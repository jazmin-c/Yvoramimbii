<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>La visita de Lumi - Cuento Interactivo Pro</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Orbitron:wght[500;700]&display=swap" rel="stylesheet">

<style>
/* ---------------------------------------------------- */
/* 1. VARIABLES Y RESET DE ESTILO */
/* ---------------------------------------------------- */
:root {
Â  Â  --color-primary: #ce1eff; /* Morado Brillante */
Â  Â  --color-secondary: #ffffff; /* Blanco */
Â  Â  --color-accent: #FF69B4; /* Rosa Vibrante (Botones/InteracciÃ³n) */
Â  Â  --color-text-light: #6f8cb8;
Â  Â  --color-text-dark: #230438;
Â  Â  --color-bg-dark: #12041D;
Â  Â  --color-highlight: #c5f361; /* Verde NeÃ³n para tÃ­tulos */
Â  Â  --content-max-width: 900px;Â 
}

body {
Â  Â  margin: 0;
Â  Â  font-family: 'Montserrat', sans-serif;
Â  Â  color: var(--color-secondary);
Â  Â  padding: 0;
Â  Â  background-color: var(--color-bg-dark);
Â  Â  min-height: 100vh;
}

/* ---------------------------------------------------- */
/* 2. FONDO DINÃMICO (GRADIENTE ESPACIAL Y FONDOS DE SECCIÃ“N) */
/* ---------------------------------------------------- */
body::before {
Â  Â  content: '';
Â  Â  position: fixed;
Â  Â  top: 0;
Â  Â  left: 0;
Â  Â  width: 100%;
Â  Â  height: 100%;
Â  Â  z-index: -2;
Â  Â  background: linear-gradient(-45deg, #12041D, #230438, #52009e, #8f00ff);
Â  Â  background-size: 400% 400%;
Â  Â  animation: gradientAnimation 15s ease infinite;
}

@keyframes gradientAnimation {
Â  Â  0% { background-position: 0% 50%; }
Â  Â  50% { background-position: 100% 50%; }
Â  Â  100% { background-position: 0% 50%; }
}

main {
Â  Â  max-width: var(--content-max-width);Â 
Â  Â  margin: 0 auto;Â 
Â  Â  padding: 0 10px;
Â  Â  position: relative;
Â  Â  z-index: 10;
}

section {
Â  Â  padding: 40px 0;
Â  Â  margin-bottom: 0;Â 
Â  Â  min-height: 100vh;Â 
Â  Â  display: none;Â 
Â  Â  position: relative;
Â  Â  z-index: 1;
Â  Â  background-color: transparent;
}

/* CLAVE: Pseudoelemento para el FONDO DE PANTALLA COMPLETA */
section::before {
Â  Â  content: '';
Â  Â  position: fixed;Â 
Â  Â  top: 0;
Â  Â  left: 0;
Â  Â  width: 100%;
Â  Â  height: 100%;
Â  Â  z-index: -1;Â 
Â  Â  opacity: 0;
Â  Â  transition: opacity 0.5s ease;
Â  Â Â 
Â  Â  background-size: cover;
Â  Â  background-position: center;
Â  Â  background-repeat: no-repeat;
Â  Â  background-blend-mode: multiply;
Â  Â  background-color: rgba(0, 0, 0, 0.65);
}

section.active {
Â  Â  display: block;
}

section.active::before {
Â  Â  opacity: 1;
}


/* FONDOS ESPECÃFICOS POR SECCIÃ“N */
#bienvenida::before { background-image: url('Lumi.png'); background-position: top center; }
#viaje::before { background-image: url('lumiytierra.png'); }
#auroras::before { background-image: url('auroras.png'); }
#travesuras::before { background-image: url('SPACE.jpg'); }Â 
#nasa::before { background-image: url('cientificos.png'); }
#cuidado::before { background-image: url('cientificos.png'); }
#conclusion::before { background-image: url('Lumi.png'); }

/* ---------------------------------------------------- */
/* 3. TIPOGRAFÃA Y ESTILOS DE CONTENIDO */
/* ---------------------------------------------------- */

h1 {
Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  font-size: 3.5rem;
Â  Â  text-align: center;
Â  Â  color: var(--color-highlight);
Â  Â  text-shadow: 0 0 10px rgba(197, 243, 97, 0.8), 0 0 20px rgba(197, 243, 97, 0.5);Â 
Â  Â  margin: 1.5rem 0;
}

h2 {
Â  Â  margin-top: 3rem;
Â  Â  color: var(--color-highlight);
Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  text-shadow: 0 0 8px var(--color-primary), 0 0 20px var(--color-primary);
Â  Â  border-bottom: 3px solid var(--color-accent);
Â  Â  padding-bottom: 8px;
Â  Â  font-size: 2rem;
Â  Â  text-align: left;
}

p {
Â  Â  line-height: 1.8;
Â  Â  font-size: 1.15em;
Â  Â  padding: 0;
Â  Â  text-align: justify;
Â  Â  background-color: rgba(0, 0, 0, 0.4);Â 
Â  Â  border: 1px solid rgba(255, 255, 255, 0.1);
Â  Â  padding: 15px;
Â  Â  border-radius: 8px;
Â  Â  margin: 15px 0;
}

strong { color: var(--color-primary); font-weight: 700; }
em { color: var(--color-highlight); font-style: normal; }
.data-capsule {
Â  Â  background-color: rgba(197, 243, 97, 0.15);
Â  Â  border-left: 5px solid var(--color-highlight);
Â  Â  padding: 15px;
Â  Â  margin: 20px 0;Â 
Â  Â  border-radius: 8px;
Â  Â  font-size: 1em;
Â  Â  font-weight: bold;
Â  Â  color: var(--color-highlight);
Â  Â  text-align: left;
Â  Â  box-shadow: 0 0 10px rgba(197, 243, 97, 0.3);
}

/* ---------------------------------------------------- */
/* 4. BOTONES Y NAVEGACIÃ“N PRO (Cyberpunk Style) */
/* ---------------------------------------------------- */

button {
Â  Â  padding: 15px 30px;
Â  Â  border-radius: 5px;Â 
Â  Â  background: var(--color-accent);
Â  Â  color: var(--color-text-dark);
Â  Â  border: 2px solid var(--color-accent);Â 
Â  Â  cursor: pointer;
Â  Â  font-size: 1.2rem;
Â  Â  font-weight: 700;
Â  Â  box-shadow: 0 0 5px var(--color-accent), 0 0 10px var(--color-accent);
Â  Â  transition: all 0.3s ease;
Â  Â  text-transform: uppercase;
Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  letter-spacing: 1px;
}

button:hover {
Â  Â  background: transparent;
Â  Â  color: var(--color-secondary);
Â  Â  border-color: var(--color-primary);Â 
Â  Â  box-shadow: 0 0 10px var(--color-primary), 0 0 20px var(--color-primary);
Â  Â  transform: translateY(-2px) scale(1.02);
}

.nav-buttons {
Â  Â  display: flex;
Â  Â  justify-content: space-between;
Â  Â  padding: 20px 0;Â 
Â  Â  margin-top: 40px;
Â  Â  border-top: 1px solid rgba(255, 255, 255, 0.1);
}
/* ESTILOS ESPECÃFICOS PARA LA EXPERIENCIA DE MARTIN */
.martin-experience {
Â  Â  background-color: rgba(255, 255, 255, 0.1);
Â  Â  border: 1px solid var(--color-primary);
Â  Â  padding: 25px;
Â  Â  border-radius: 10px;
Â  Â  margin: 40px auto;
Â  Â  max-width: 600px; /* Ancho mÃ¡ximo del contenedor */
Â  Â  text-align: center;
Â  Â  box-shadow: 0 0 15px rgba(206, 30, 255, 0.4);
}

.martin-experience h3 {
Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  color: var(--color-highlight);
Â  Â  text-shadow: 0 0 8px rgba(197, 243, 97, 0.8);
Â  Â  margin-bottom: 20px;
Â  Â  font-size: 1.8rem;
Â  Â  line-height: 1.3;
}

/* Contenedor de la imagen: Define el tamaÃ±o mÃ¡ximo de la imagen */
.martin-img-container {
Â  Â  width: 90%;Â 
Â  Â  max-width: 250px; /* **TAMAÃ‘O MÃXIMO DE LA IMAGEN EN ESCRITORIO** */
Â  Â  margin: 0 auto 20px auto;
Â  Â  overflow: hidden;
}

/* Estilo de la imagen: Asegura que la imagen sea responsive */
.martin-image {
Â  Â  width: 100%; /* La imagen ocupa el 100% del contenedor (mÃ¡x. 450px) */
Â  Â  height: auto;
Â  Â  display: block;
Â  Â  border-radius: 8px;
Â  Â  border: 2px solid var(--color-secondary);
Â  Â  box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
}

.martin-experience p {
Â  Â  font-style: italic;
Â  Â  color: var(--color-secondary);
Â  Â  line-height: 1.6;
Â  Â  font-size: 1.05em;
Â  Â  text-align: center;
Â  Â  margin-top: 20px;
}

/* Media Query para responsividad en mÃ³viles */
@media (max-width: 768px) {
Â  Â  .martin-experience {
Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  margin: 20px 5px;
Â  Â  Â  Â  max-width: 50%; /* Ocupa mÃ¡s ancho en mÃ³vil */
Â  Â  }
Â  Â  .martin-experience h3 {
Â  Â  Â  Â  font-size: 1.4rem;
Â  Â  }
}
/* ---------------------------------------------------- */
/* 5. JUEGOS Nivel PRO */
/* ---------------------------------------------------- */

/* ** JUEGO CME (MÃºltiple ElecciÃ³n) - Estilos ya existentes ** */
.answer-btn {
Â  Â  width: 100%; margin: 5px 0; padding: 15px 20px; border-radius: 5px; text-align: left;
Â  Â  background: rgba(255, 255, 255, 0.1); color: var(--color-secondary);
Â  Â  border: 2px solid rgba(255, 255, 255, 0.3); cursor: pointer;
Â  Â  transition: background 0.2s, border-color 0.2s, transform 0.1s; font-size: 1.1em; font-weight: 500;
Â  Â  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
Â  Â  display: block;Â 
}
.answer-btn:hover {Â 
Â  Â  background: rgba(206, 30, 255, 0.2);Â 
Â  Â  border-color: var(--color-primary);Â 
Â  Â  transform: translateX(5px);
}
.correct-answer {Â 
Â  Â  background: #006400;Â 
Â  Â  border-color: var(--color-highlight);Â 
Â  Â  box-shadow: 0 0 15px var(--color-highlight);Â 
Â  Â  animation: flashGreen 0.5s;
Â  Â  pointer-events: none;
}
.incorrect-answer {Â 
Â  Â  background: #8B0000;Â 
Â  Â  border-color: var(--color-accent);Â 
Â  Â  animation: shake 0.5s;
Â  Â  pointer-events: none;
}

@keyframes flashGreen {
Â  Â  0% { background-color: #006400; }
Â  Â  50% { background-color: #38ff38; }
Â  Â  100% { background-color: #006400; }
}
@keyframes shake {
Â  Â  0%, 100% { transform: translateX(0); }
Â  Â  20%, 60% { transform: translateX(-5px); }
Â  Â  40%, 80% { transform: translateX(5px); }
}

/* ** JUEGO DRAG & DROP (ImÃ¡genes Arrastrables) - Estilos ya existentes ** */
#column-profesiones, #column-problemas {
Â  Â  width: 45%;Â 
Â  Â  display: flex;
Â  Â  flex-direction: column;
Â  Â  gap: 20px;Â 
Â  Â  align-items: center;Â 
}
#column-profesiones h4, #column-problemas h4 {
Â  Â  text-align: center;
Â  Â  margin-bottom: 15px;
}

.drag-item {
Â  Â  padding: 0;Â 
Â  Â  margin: 0;Â 
Â  Â  border-radius: 10px;Â 
Â  Â  cursor: grab;Â 
Â  Â  transition: transform 0.2s, box-shadow 0.2s, opacity 0.3s;
Â  Â  border: 3px solid var(--color-primary);Â 
Â  Â  height: 150px;Â 
Â  Â  width: 150px;Â 
Â  Â  display: flex;
Â  Â  justify-content: center;
Â  Â  align-items: center;
Â  Â  position: relative;
Â  Â  box-shadow: 0 0 12px var(--color-primary);Â 
Â  Â  flex-shrink: 0;Â 
Â  Â  align-self: center;Â 
}

.drag-item:hover {Â 
Â  Â  transform: scale(1.08);Â 
Â  Â  box-shadow: 0 0 25px var(--color-accent);Â 
Â  Â  border-color: var(--color-accent);
}
.drag-item.matched {
Â  Â  opacity: 0;Â 
Â  Â  pointer-events: none;
Â  Â  transition: opacity 0.5s ease-out, transform 0.2s ease;
Â  Â  transform: translateY(-25px) scale(0.7);Â 
}

/* Estilos de la imagen dentro del contenedor arrastrable */
.drag-item-image {
Â  Â  width: 100%;
Â  Â  height: 100%;
Â  Â  background-size: cover;
Â  Â  background-position: center;
Â  Â  background-repeat: no-repeat;
Â  Â  display: flex;
Â  Â  align-items: flex-end;Â 
Â  Â  justify-content: center;
Â  Â  padding: 8px;Â 
Â  Â  font-size: 1em;Â 
Â  Â  font-weight: 700;
Â  Â  color: var(--color-secondary);
Â  Â  text-shadow: 0 0 6px #000;Â 
Â  Â  background-blend-mode: multiply;Â 
Â  Â  background-color: rgba(0, 0, 0, 0.5);Â 
Â  Â  border-radius: 7px;Â 
}

/* ImÃ¡genes especÃ­ficas para el Drag & Drop */
.drag-item[data-match="agricultor"] .drag-item-image { background-image: url('Agricultor.png'); }
.drag-item[data-match="piloto"] .drag-item-image { background-image: url('piloto.png'); }
.drag-item[data-match="operador"] .drag-item-image { background-image: url('electrico.png'); }


.drop-target {
Â  Â  background: rgba(255, 255, 255, 0.08);Â 
Â  Â  border: 3px dashed var(--color-text-light);Â 
Â  Â  padding: 20px;Â 
Â  Â  margin: 0;Â 
Â  Â  border-radius: 10px;Â 
Â  Â  min-height: 150px;Â 
Â  Â  display: flex;Â 
Â  Â  align-items: center;
Â  Â  justify-content: center;Â 
Â  Â  text-align: center;Â 
Â  Â  transition: background-color 0.3s, border-color 0.3s, box-shadow 0.3s;
Â  Â  font-style: italic;
Â  Â  width: 100%;Â 
Â  Â  box-sizing: border-box;Â 
Â  Â  color: var(--color-text-light);
Â  Â  font-size: 1.2em;Â 
}
.drop-target.hovered {Â 
Â  Â  background-color: rgba(206, 30, 255, 0.4);Â 
Â  Â  border-color: var(--color-primary);Â 
Â  Â  box-shadow: 0 0 20px rgba(206, 30, 255, 0.7);Â 
}
.matched {
Â  Â  background-color: rgba(197, 243, 97, 0.35);Â 
Â  Â  border: 3px solid var(--color-highlight);
Â  Â  color: var(--color-highlight);Â 
Â  Â  pointer-events: none;
Â  Â  box-shadow: 0 0 15px var(--color-highlight);
Â  Â  font-style: normal;
}

/* Contenedor para centrar el botÃ³n del video */
.video-button-container {
Â  Â  text-align: center;
Â  Â  margin-top: 25px;Â 
Â  Â  margin-bottom: 20px;Â 
}

/* ** JUEGO DE MEMORIA (Flip Card Effect) - Estilos NUEVOS y mejorados ** */
.memory-card-container {
Â  Â  perspective: 1000px;
Â  Â  height: 100px;
}
.memory-card {
Â  Â  position: relative;
Â  Â  width: 100%;
Â  Â  height: 100%;
Â  Â  transform-style: preserve-3d;
Â  Â  transition: transform 0.5s;
Â  Â  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
Â  Â  cursor: pointer;
Â  Â  border-radius: 8px;
}

.memory-card.flipped {
Â  Â  transform: rotateY(180deg);
}
.memory-card.matched {
Â  Â  /* El estado matched ahora es el que queremos que se quede visible */
Â  Â  transform: rotateY(0deg);Â 
Â  Â  pointer-events: none;
Â  Â  box-shadow: 0 0 15px var(--color-highlight);
Â  Â  background-color: transparent; /* Asegurar que no interfiera */
}

.card-face {
Â  Â  position: absolute;
Â  Â  width: 100%;
Â  Â  height: 100%;
Â  Â  backface-visibility: hidden;
Â  Â  display: flex;
Â  Â  align-items: center;
Â  Â  justify-content: center;
Â  Â  font-weight: 700;
Â  Â  border-radius: 8px;
Â  Â  font-size: 0.9em;
Â  Â  padding: 5px;
Â  Â  box-sizing: border-box;
Â  Â  text-align: center;
}

.card-back {
Â  Â  /* Estado inicial: Cubierto */
Â  Â  background: var(--color-primary);
Â  Â  color: var(--color-text-dark);
Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  border: 3px solid var(--color-accent);
}

.card-front {
Â  Â  /* Estado al voltear y al ser MATCHED: Visible */
Â  Â  background: var(--color-bg-dark);
Â  Â  color: var(--color-highlight);
Â  Â  transform: rotateY(180deg);
Â  Â  border: 3px solid var(--color-highlight);
}

/* ESTILO ESPECÃFICO PARA CARTAS EMPAREJADAS (NUEVO) */
.memory-card.matched .card-front {
Â  Â  /* Cuando se encuentra la pareja, forzamos que el frente quede visible */
Â  Â  transform: rotateY(0deg);
Â  Â  background-color: var(--color-bg-dark); /* Fondo oscuro para el texto blanco/neÃ³n */
Â  Â  color: var(--color-secondary);
Â  Â  border-color: var(--color-highlight);
Â  Â  animation: pulseMatch 1s ease-out;
}
.memory-card.matched .card-back {
Â  Â  /* Esconder la parte trasera de la carta permanentemente */
Â  Â  display: none;
}

@keyframes pulseMatch {
Â  Â  0% { box-shadow: 0 0 0 rgba(197, 243, 97, 0.5); }
Â  Â  50% { box-shadow: 0 0 20px rgba(197, 243, 97, 1); }
Â  Â  100% { box-shadow: 0 0 15px var(--color-highlight); }
}


#memory-game {
Â  Â  display: grid;Â 
Â  Â  grid-template-columns: repeat(4, 1fr);Â 
Â  Â  gap: 10px;Â 
Â  Â  margin: 20px 0;
}

/* ---------------------------------------------------- */
/* 7. MEDIA QUERIES (RESPONSIVE DESIGN) */
/* ---------------------------------------------------- */

@media (max-width: 768px) {
Â  Â  h1 { font-size: 2.5rem; }
Â  Â  h2 { font-size: 1.5rem; }
Â  Â  p { font-size: 1em; }
Â  Â Â 
Â  Â  /* NAV: Ocultar en mÃ³vil si es un diseÃ±o de pantalla completa */
Â  Â  nav { display: none; }
Â  Â Â 
Â  Â  main { padding: 0 15px; }
Â  Â  section { padding: 20px 0; }
Â  Â Â 
Â  Â  .impact-grid-and-text { flex-direction: column; }
Â  Â Â 
Â  Â  .nav-buttons { flex-direction: column; gap: 10px; }
Â  Â  .nav-buttons button { width: 100%; }
Â  Â Â 
Â  Â  .answer-btn { padding: 10px 15px; font-size: 1em; }

Â  Â  /* ** JUEGO DRAG & DROP: Columnas se apilan ** */
Â  Â  #column-profesiones, #column-problemas {
Â  Â  Â  Â  width: 100%; /* Ocupan todo el ancho */
Â  Â  Â  Â  align-items: center;Â 
Â  Â  }
Â  Â  #column-profesiones {
Â  Â  Â  Â  /* Para que las imÃ¡genes arrastrables y las zonas de soltar no estÃ©n pegadas */
Â  Â  Â  Â  margin-bottom: 30px;Â 
Â  Â  }
Â  Â Â 
Â  Â  /* Elementos Drag & Drop mÃ¡s pequeÃ±os pero usables */
Â  Â  .drag-item { width: 100px; height: 100px; }Â 
Â  Â  .drag-item-image { font-size: 0.9em; } /* Ajustar el tamaÃ±o del texto dentro del item */
Â  Â  .drop-target { min-height: 100px; font-size: 1em; }Â 
Â  Â Â 
Â  Â  /* Juego de Memoria */
Â  Â  #memory-game { grid-template-columns: repeat(3, 1fr); }
Â  Â  .memory-card-container { height: 80px; }
Â  Â Â 
Â  Â  button { padding: 12px 20px; font-size: 1rem; }
}

@media (max-width: 450px) {
Â  Â  /* Ajustes para telÃ©fonos pequeÃ±os */
Â  Â  h1 { font-size: 2rem; }
Â  Â  h2 { font-size: 1.3rem; }
Â  Â  p { font-size: 0.95em; }
Â  Â Â 
Â  Â  .drag-item { width: 80px; height: 80px; }
Â  Â  .drag-item-image { font-size: 0.8em; } /* Texto aÃºn mÃ¡s pequeÃ±o en pantallas muy pequeÃ±as */
Â  Â  .drop-target { min-height: 80px; font-size: 0.9em; }
Â  Â Â 
Â  Â  #memory-game { grid-template-columns: repeat(2, 1fr); }
Â  Â  .memory-card-container { height: 70px; } /* Ajustar altura para mantener proporciÃ³n */
}
</style>
</head>
<body>

<nav>
Â  Â  <div class="nav-container">
Â  Â  Â  Â  <ul>
Â  Â  Â  Â  Â  Â  <li><a href="#bienvenida" data-index="0">ğŸ‘‹ Lumi</a></li>
Â  Â  Â  Â  Â  Â  <li><a href="#viaje" data-index="1">ğŸš€ El Viaje</a></li>
Â  Â  Â  Â  Â  Â  <li><a href="#auroras" data-index="2">ğŸŒŒ Auroras</a></li>
Â  Â  Â  Â  Â  Â  <li><a href="#travesuras" data-index="3">âš ï¸ Travesuras</a></li>
Â  Â  Â  Â  Â  Â  <li><a href="#nasa" data-index="4">ğŸ”­ NASA</a></li>
Â  Â  Â  Â  Â  Â  <li><a href="#cuidado" data-index="5">ğŸ›¡ï¸ ProtecciÃ³n</a></li>
Â  Â  Â  Â  Â  Â  <li><a href="#conclusion" data-index="6">âœ… ConclusiÃ³n</a></li>
Â  Â  Â  Â  </ul>
Â  Â  </div>
</nav>

<main>
Â  Â Â 
Â  Â  <section id="bienvenida" class="page-section active">
Â  Â  Â  Â  <h1>La Visita de Lumi: Una Aventura Solar</h1>
Â  Â  Â  Â  <h2>Â¿QuiÃ©n soy yo?</h2>
Â  Â  Â  Â  <p>Hola, me llamo <strong>Lumi</strong>. Soy una pequeÃ±a llama del Sol. A veces salto del Sol en forma de luz y viento y viajo por el espacio. A eso le llamamos <em>clima espacial</em>. Mi energÃ­a es tan poderosa que ilumino todo a mi alrededor.</p>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="interactividad">
Â  Â  Â  Â  Â  Â  <h3>â­ Â¡Comencemos la aventura!</h3>
Â  Â  Â  Â  Â  Â  <p>Haz clic en el botÃ³n para seguir el viaje de Lumi y desbloquear secretos del Sol.</p>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="nav-buttons">
Â  Â  Â  Â  Â  Â  <span></span>
Â  Â  Â  Â  Â  Â  <button onclick="changePage(1)">NEXT ğŸš€</button>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section id="viaje" class="page-section">
Â  Â  Â  Â  <h2>El viaje hacia la Tierra</h2>
Â  Â  Â  Â  <p>Un dÃ­a, me emocionÃ© mucho y salÃ­ con mÃ¡s fuerza. ViajÃ© como una ola gigante de partÃ­culas y campo magnÃ©tico: a esto los humanos lo llaman una <strong>eyecciÃ³n de masa coronal (CME)</strong>. Mi viaje a travÃ©s del vasto espacio es una aventura llena de velocidad y energÃ­a.</p>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="interactividad">
Â  Â  Â  Â  Â  Â  <h3>So... What does CME mean?</h3>
Â  Â  Â  Â  Â  Â  <p>Lumi explained it: How does the giant wave of particles from the Sun travel?</p>
Â  Â  Â  Â  Â  Â  <div id="cme-quiz">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="option-container" data-answer="incorrect">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="answer-btn">A: It's a slow ray of light traveling into space.</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="option-container" data-answer="correct">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="answer-btn">B: It's a great wave of particles and magnetic field.</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="option-container" data-answer="incorrect">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="answer-btn">C: It's a rock meteor that has been ejected from the Sun.</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <p id="quiz-feedback" style="text-align: center; font-weight: 700; margin-top: 20px; display: none;"></p>

Â  Â  Â  Â  Â  Â  <div id="data-capsule-cme" class="data-capsule" style="display: none;">
Â  Â  Â  Â  Â  Â  Â  Â  ğŸ’¡ Dato Desbloqueado:Una CME (como Lumi) viaja a una velocidad de hasta 3.000 kilÃ³metros por segundo, Â¡cruzando la distancia del Sol a la Tierra en solo un par de dÃ­as!
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="nav-buttons">
Â  Â  Â  Â  Â  Â  <button onclick="changePage(-1)">PREVIOUS ğŸ‘‹</button>
Â  Â  Â  Â  Â  Â  <button onclick="changePage(1)">NEXT ğŸŒŒ</button>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section id="auroras" class="page-section">
Â  Â  Â  Â  <h2>Auroras y luces danzantes</h2>
Â  Â  Â  Â  <p>Â¡Y entonces, la magia sucede! Al llegar a la Tierra, me encuentro con su escudo invisible: el <em>campo magnÃ©tico</em>. Cuando mi energÃ­a y partÃ­culas chocan con la atmÃ³sfera, pintan el cielo con luces de colores que bailan. Â¡Es un espectÃ¡culo asombroso conocido como <strong>auroras</strong>, un gran show de luces en el Polo Norte y el Polo Sur!</p>
Â  Â  Â  Â  <div class="data-capsule">
Â  Â  Â  Â  Â  Â  ğŸŒŒDato Extra: Las auroras ocurren a unos 100 a 300 kilÃ³metros de altura, Â¡justo donde la atmÃ³sfera se encuentra con el espacio!
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="nav-buttons">
Â  Â  Â  Â  Â  Â  <button onclick="changePage(-1)">PREVIOUS </button>
Â  Â  Â  Â  Â  Â  <button onclick="changePage(1)">NEXT ğŸš€</button>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section id="travesuras" class="page-section">
Â  Â  Â  Â  <h2>Cuando Lumi hace travesuras</h2>
Â  Â  Â  Â  <p>Aunque a muchos les encanta ver mis danzas de luz, a veces mis travesuras tienen consecuencias inesperadas. Â¡Mira quiÃ©nes pueden sentir mis juegos!</p>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="impact-grid-and-text">
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="impact-cards-container">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="impact-card" id="impact-agricultor"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="impact-card" id="impact-piloto"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="impact-card" id="impact-operador"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="impact-card" id="impact-astronauta"></div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="impact-text-list">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>A quiÃ©nes afecta Lumi:</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <ul>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>Agricultor/a:</strong> Las seÃ±ales de los satÃ©lites, vitales para la maquinaria moderna y los pronÃ³sticos precisos, pueden fallar.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>Piloto/a:</strong> Las comunicaciones por radio pueden volverse borrosas y los sistemas de navegaciÃ³n como el GPS pueden perder su rumbo.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>Operador/a de redes elÃ©ctricas:</strong> Mis corrientes pueden ser tan fuertes que daÃ±an los transformadores y, en casos extremos, Â¡causar apagones!
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>Astronauta:</strong> En la inmensidad del espacio, la radiaciÃ³n que traigo puede ser peligrosa.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="interactividad">
Â  Â  Â  Â  Â  Â  <h3>Drag a **PROFESSION** and drop it on the corresponding **PROBLEM**. Complete the challenge to see a historical fact!</h3>
Â  Â  Â  Â  Â  Â  <p>
Â  Â  Â  Â  Â  Â  <div style="display: flex; justify-content: space-around; margin: 30px 0; flex-wrap: wrap;">
Â  Â  Â  Â  Â  Â  Â  Â  <div id="column-profesiones">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>PROFESSIONS (Drag the image)</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="drag-item" data-match="agricultor">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="drag-item-image">Farmer</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="drag-item" data-match="piloto">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="drag-item-image">Pilot</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="drag-item" data-match="operador">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="drag-item-image">Electric Op.</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div id="column-problemas">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>PROBLEMS</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="drop-target" data-target="piloto">Loss of GPS/radio signal</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="drop-target" data-target="operador">Damage to transformers and blackouts</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="drop-target" data-target="agricultor">Failure in machinery and forecasts</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="game-message" class="data-capsule" style="display: none; background-color: rgba(255, 105, 180, 0.2); border-left: 5px solid var(--color-accent);">
Â  Â  Â  Â  Â  Â  Â  Â  Amazing, you have completed the mission!
Â  Â  Â  Â  Â  Â  Â  Â  <p>ğŸ’¥Dato HistÃ³rico de la NASA: Un equipo de cientÃ­ficos, liderado por Laura Hayes, fÃ­sica solar que divide su tiempo entre el Centro Goddard de la NASA y el Trinity College de DublÃ­n, Irlanda, investigÃ³ la conexiÃ³n entre las erupciones solares y la atmÃ³sfera terrestre. Descubrieron pulsos en la capa electrificada de la atmÃ³sfera, llamada ionosfera, que reflejaban oscilaciones de rayos X durante una erupciÃ³n el 24 de julio de 2016. Â¡Una verdadera travesura de Lumi!</p>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <h3 style="margin-top: 40px;">ğŸ“¹ Conoce el Clima Solar</h3>
Â  Â  Â  Â  Â  Â  <p>Haz clic en el botÃ³n para ver un video directamente desde la NASA que explica cÃ³mo la energÃ­a del Sol influye en la Tierra.</p>
Â  Â  Â  Â  Â  Â  <div class="video-button-container">
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="window.open('https://svs.gsfc.nasa.gov/12640/', '_blank')" style="margin-top: 10px;">Watch NASA Video ğŸš€</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="nav-buttons">
Â  Â  Â  Â  Â  Â  <button onclick="changePage(-1)">PREVIOUS</button>
Â  Â  Â  Â  Â  Â  <button onclick="changePage(1)">NEXT ğŸ”­</button>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section id="nasa" class="page-section">
Â  Â  Â  Â  <h2>ğŸ”­ Ojos en el Sol: Los Guardianes de la NASA</h2>
Â  Â  Â  Â  <p>Pero Â¡no te asustes! La Tierra tiene guardianes muy inteligentes. CientÃ­ficos y agencias como la NASA tienen la misiÃ³n de observar mi hogar. Gracias a satÃ©lites avanzados, ellos pueden verme salir del Sol, incluso antes de que me acerque a la Tierra.</p>
Â  Â  Â  Â  <p>Esta vigilancia constante les permite avisar a todos con tiempo, haciendo que mis "travesuras" sean solo un hermoso espectÃ¡culo de luces.</p>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="interactividad">
Â  Â  Â  Â  Â  Â  <h3>Aprende sobre las herramientas de la NASA que ayuda a los cientificos con el Clima Espacial:</h3>
Â  Â  Â  Â  Â  Â  <div class="accordion-container" style="padding: 0;">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="accordion-item">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="accordion-title">SDO (Solar Dynamics Observatory) ğŸ›°ï¸</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="accordion-content">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>SDO es el ojo de la NASA que mira el Sol 24/7. EnvÃ­a imÃ¡genes y datos que permiten a los cientÃ­ficos ver a Lumi (CME) en el momento exacto en que sale del Sol. Es crucial para las alertas tempranas.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="accordion-item">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="accordion-title">Parker Solar Probe ğŸš€</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="accordion-content">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>Esta es la nave mÃ¡s atrevida. En una misiÃ³n para "tocar el Sol", la sonda solar Parker de la NASA se convirtiÃ³ en la primera nave espacial en volar a travÃ©s de la corona (la atmÃ³sfera superior del Sol) en 2021. Su misiÃ³n es tocar y analizar el viento solar y las CME, dÃ¡ndonos informaciÃ³n esencial desde el campo de batalla de Lumi.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="accordion-item">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="accordion-title">SOHO (Solar and Heliospheric Observatory) ğŸ”­</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="accordion-content">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>SOHO ha sido nuestro vigÃ­a desde 1995. Ubicado en un punto estratÃ©gico, vigila el clima espacial. Sin SOHO, no sabrÃ­amos gran parte de lo que sucede en el Sol.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="nav-buttons">
Â  Â  Â  Â  Â  Â  <button onclick="changePage(-1)">PREVIOUS âš ï¸</button>
Â  Â  Â  Â  Â  Â  <button onclick="changePage(1)">NEXT ğŸ›¡ï¸</button>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section id="cuidado" class="page-section">
Â  Â  Â  Â  <h2>Â¿CÃ³mo nos cuidamos?</h2>
Â  Â  Â  Â  <p>Los cientÃ­ficos observan al Sol con telescopios avanzados y satÃ©lites especiales para avisarnos cuando yo y mis amigas vamos de visita. AsÃ­, los aviadores, las compaÃ±Ã­as elÃ©ctricas y las agencias espaciales pueden prepararse, protegiendo sus equipos y, lo mÃ¡s importante, a las personas.</p>

Â  Â  Â  Â  <div class="interactividad">
Â  Â  Â  Â  Â  Â  <h3>ğŸ§  Memory Game: Match the cards</h3>
Â  Â  Â  Â  Â  Â  <p>Click to reveal the card. Find the 4 human protection pairs.</p>
Â  Â  Â  Â  Â  Â  <div id="memory-game">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <p id="memory-message" class="data-capsule" style="display: none; background-color: rgba(255, 105, 180, 0.2); border-left: 5px solid var(--color-accent); margin-top: 20px;">
Â  Â  Â  Â  Â  Â  Â  Â  ğŸ‰ Amazing Memory! You have helped humanity prepare against Lumi's mischief.
Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="nav-buttons">
Â  Â  Â  Â  Â  Â  <button onclick="changePage(-1)">PREVIOUS ğŸ”­</button>
Â  Â  Â  Â  Â  Â  <button onclick="changePage(1)">NEXT âœ…</button>
Â  Â  Â  Â  </div>
Â  Â  </section>
Â  Â  <section id="conclusion" class="page-section">
Â  Â  Â  Â  <h2>Lumi aprende a jugar con cuidado</h2>
Â  Â  Â  Â  <p>Con el tiempo, comprendÃ­ que mi energÃ­a era no solo hermosa sino tambiÃ©n increÃ­blemente poderosa. AprendÃ­ a viajar con mÃ¡s cuidado, y los humanos, a su vez, aprendieron a protegerse de mis juegos mÃ¡s intensos. AsÃ­ que, la prÃ³xima vez que veas las auroras danzando en el cielo, recuerda que son mi saludo luminoso, la firma de Lumi saludando desde el Sol.</p>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="martin-experience">
Â  Â  Â  Â  Â  Â  <h3>LA EXPERIENCIA DE MARTIN AL VER LAS AURORAS</h3>
Â  Â  Â  Â  Â  Â  Â  <div class="martin-img-container">
Â  Â  Â  Â  <img src="./Martin.jpg" alt="MartÃ­n observando las auroras" class="martin-image">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <p>
Â  Â  Â  Â  Â  Â  Â  Viaje hasta el Norte del planeta a conocer las auroras, al llegar la noche recibimos una notificacion de una App que nos avisaba que habria una escena, yo saltÃ© de la emociÃ³n, estaba muy nervioso muy feliz yo que soy fotografo agarre mi camara y mi tripode y sali corriendo a ver las auroras, una de las cosas mas lindas que me toco vivir, emoci+on indescriptible, felicidad de haber cumplido algo que siempre soÃ±Ã©, tuve la bendiciÃ³n de poder disfrutar de eso.
Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="nav-buttons">
Â  Â  Â  Â  Â  Â  <button onclick="changePage(-1)">PREVIOUS ğŸ›¡</button>
Â  Â  Â  Â  Â  Â  <button onclick="window.location.href = 'index.html'">FINISH ğŸ‘‹</button>
Â  Â  Â  Â  </div>
Â  Â  </section>
</main>

<script>
const sections = document.querySelectorAll('.page-section');
let currentPageIndex = 0;

// Variables del juego de Memoria - Contenido en INGLÃ‰S
const memoryContent = [
    'Electric Grid Shielding', 'GPS Backups', 'Radiation Suits', 'Grounding Systems',
];

function updatePageDisplay() {
Â  Â  sections.forEach(section => {
Â  Â  Â  Â  section.classList.remove('active');
Â  Â  });

Â  Â  if (sections[currentPageIndex]) {
Â  Â  Â  Â  sections[currentPageIndex].classList.add('active');
Â  Â  Â  Â Â 
Â  Â  Â  Â  window.scrollTo({ top: 0, behavior: 'smooth' });

Â  Â  Â  Â  document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
Â  Â  Â  Â  const currentId = sections[currentPageIndex].id;
Â  Â  Â  Â  const activeLink = document.querySelector(`nav a[href="#${currentId}"]`);
Â  Â  Â  Â  if (activeLink) {
Â  Â  Â  Â  Â  Â  activeLink.classList.add('active');
Â  Â  Â  Â  }
Â  Â  }
}

function changePage(direction) {
Â  Â  let newIndex = currentPageIndex + direction;

Â  Â  if (newIndex >= 0 && newIndex < sections.length) {
Â  Â  Â  Â  currentPageIndex = newIndex;
Â  Â  Â  Â  updatePageDisplay();
Â  Â  }
}

updatePageDisplay();Â 

document.querySelectorAll('nav a').forEach(anchor => {
Â  Â  anchor.addEventListener('click', function (e) {
Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  const targetSection = document.querySelector(this.getAttribute('href'));
Â  Â  Â  Â  if (targetSection) {
Â  Â  Â  Â  Â  Â  currentPageIndex = Array.from(sections).indexOf(targetSection);
Â  Â  Â  Â  Â  Â  updatePageDisplay();
Â  Â  Â  Â  }
Â  Â  });
});

// =========================================================================
// LÃ“GICA DE JUEGOS
// =========================================================================

// 2. LÃ“GICA DEL JUEGO DE OPCIÃ“N MÃšLTIPLE (CME - SecciÃ³n Viaje)
const answerBtns = document.querySelectorAll('#cme-quiz .answer-btn');
const feedbackText = document.getElementById('quiz-feedback');
const cmeDataCapsule = document.getElementById('data-capsule-cme');

answerBtns.forEach(button => {
Â  Â  button.addEventListener('click', (e) => {
Â  Â  Â  Â  // Solo permitir un clic
Â  Â  Â  Â  if (e.currentTarget.closest('#cme-quiz').classList.contains('answered')) return;

Â  Â  Â  Â  e.currentTarget.closest('#cme-quiz').classList.add('answered');

Â  Â  Â  Â  const parentContainer = e.currentTarget.closest('.option-container');
Â  Â  Â  Â  const answer = parentContainer.getAttribute('data-answer');

Â  Â  Â  Â  // Deshabilita todos los botones de respuesta
Â  Â  Â  Â  answerBtns.forEach(btn => btn.setAttribute('disabled', 'true'));

Â  Â  Â  Â  feedbackText.style.display = 'block';

Â  Â  Â  Â  if (answer === 'correct') {
Â  Â  Â  Â  Â  Â  e.currentTarget.classList.add('correct-answer');
Â  Â  Â  Â  Â  Â  feedbackText.style.color = 'var(--color-highlight)';
Â  Â  Â  Â  Â  Â  // Texto de respuesta correcta en INGLÃ‰S
Â  Â  Â  Â  Â  Â  feedbackText.textContent = 'âœ… Correct Answer! Keep reading!';
Â  Â  Â  Â  Â  Â  cmeDataCapsule.style.display = 'block';
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  e.currentTarget.classList.add('incorrect-answer');
Â  Â  Â  Â  Â  Â  feedbackText.style.color = 'var(--color-accent)';
Â  Â  Â  Â  Â  Â  // Texto de respuesta incorrecta en INGLÃ‰S
Â  Â  Â  Â  Â  Â  feedbackText.textContent = 'âŒ Incorrect. Hint: It\'s a giant wave of energy!';
Â  Â  Â  Â  Â  Â  // Mostrar la respuesta correcta
Â  Â  Â  Â  Â  Â  document.querySelector('.option-container[data-answer="correct"] .answer-btn').classList.add('correct-answer');
Â  Â  Â  Â  Â  Â  cmeDataCapsule.style.display = 'block'; // Mostrar de todos modos para que avance
Â  Â  Â  Â  }
Â  Â  });
});


// 3. LÃ“GICA DEL DRAG & DROP (SecciÃ³n Travesuras)
const dragItems = document.querySelectorAll('.drag-item');
const dropTargets = document.querySelectorAll('.drop-target');
const gameMessage = document.getElementById('game-message');
let matches = 0;

let draggedItem = null;

dragItems.forEach(item => {
    item.addEventListener('dragstart', (e) => {
        draggedItem = item;
        e.dataTransfer.setData('text/plain', item.dataset.match);
        // Opcional: aÃ±adir clase para visualizaciÃ³n durante el arrastre
        setTimeout(() => item.style.opacity = '0.5', 0);
    });

    item.addEventListener('dragend', () => {
        // Restaurar opacidad si no fue matched
        if (!item.classList.contains('matched')) {
            item.style.opacity = '1';
        }
        draggedItem = null;
    });
});

dropTargets.forEach(target => {
    target.addEventListener('dragover', (e) => {
        e.preventDefault(); // Permite soltar
        target.classList.add('hovered');
    });

    target.addEventListener('dragleave', () => {
        target.classList.remove('hovered');
    });

    target.addEventListener('drop', (e) => {
        e.preventDefault();
        target.classList.remove('hovered');
        
        const dragMatch = e.dataTransfer.getData('text/plain');
        const targetMatch = target.dataset.target;

        if (dragMatch === targetMatch) {
            // Coincidencia exitosa
            target.classList.add('matched');
            draggedItem.classList.add('matched');
            draggedItem.style.opacity = '0'; // Ocultar item arrastrado
            draggedItem.draggable = false;
            
            // Texto de coincidencia en INGLÃ‰S
            target.textContent = 'MATCHED: ' + target.textContent;
            
            matches++;
            if (matches === dropTargets.length) {
                // Juego completado
                gameMessage.style.display = 'block';
                // Mensaje de Ã©xito en INGLÃ‰S
                gameMessage.querySelector('p').innerHTML = 'ğŸ’¥ Historical NASA Fact: A team of scientists, led by solar physicist Laura Hayes, who divides her time between NASA\'s Goddard Center and Trinity College Dublin, Ireland, investigated the connection between solar flares and Earth\'s atmosphere. They discovered pulses in the electrified layer of the atmosphere, called the ionosphere, which reflected X-ray oscillations during a flare on July 24, 2016. A true Lumi mischief!';
            }
        }
    });
});

// 4. LÃ“GICA DEL JUEGO DE MEMORIA (SecciÃ³n Cuidado)

function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

let hasFlippedCard = false;
let lockBoard = false;
let firstCard, secondCard;
let matchesFound = 0;

function createBoard() {
    const gameBoard = document.getElementById('memory-game');
    const cards = [...memoryContent, ...memoryContent]; // Duplicar para parejas
    shuffle(cards);

    cards.forEach((item, index) => {
        const cardContainer = document.createElement('div');
        cardContainer.className = 'memory-card-container';
        cardContainer.innerHTML = `
            <div class="memory-card" data-card="${item.replace(/\s/g, '-').toLowerCase()}">
                <div class="card-face card-front">${item}</div>
                <div class="card-face card-back">LUMI-CARD ${index + 1}</div>
            </div>
        `;
        cardContainer.querySelector('.memory-card').addEventListener('click', flipCard);
        gameBoard.appendChild(cardContainer);
    });
}

function flipCard() {
    if (lockBoard) return;
    if (this === firstCard) return;

    this.classList.add('flipped');

    if (!hasFlippedCard) {
        // Primer carta volteada
        hasFlippedCard = true;
        firstCard = this;
        return;
    }

    // Segunda carta volteada
    secondCard = this;
    checkForMatch();
}

function checkForMatch() {
    const isMatch = firstCard.dataset.card === secondCard.dataset.card;

    isMatch ? disableCards() : unflipCards();
}

function disableCards() {
    // Es un match!
    firstCard.removeEventListener('click', flipCard);
    secondCard.removeEventListener('click', flipCard);
    
    // AÃ±adir clase 'matched' para el estilo permanente
    firstCard.classList.add('matched');
    secondCard.classList.add('matched');

    matchesFound++;
    if (matchesFound === memoryContent.length) {
        document.getElementById('memory-message').style.display = 'block';
    }

    resetBoard();
}

function unflipCards() {
    lockBoard = true;

    setTimeout(() => {
        firstCard.classList.remove('flipped');
        secondCard.classList.remove('flipped');
        resetBoard();
    }, 1500);
}

function resetBoard() {
    [hasFlippedCard, lockBoard] = [false, false];
    [firstCard, secondCard] = [null, null];
}

createBoard();


// 5. LÃ“GICA DEL ACORDEÃ“N (SecciÃ³n NASA)
const accordionTitles = document.querySelectorAll('.accordion-title');

accordionTitles.forEach(title => {
Â  Â  title.addEventListener('click', () => {
Â  Â  Â  Â  const content = title.nextElementSibling;
Â  Â  Â  Â  const parentItem = title.parentElement;

Â  Â  Â  Â  // Cierra otros acordeones
Â  Â  Â  Â  document.querySelectorAll('.accordion-content').forEach(otherContent => {
Â  Â  Â  Â  Â  Â  if (otherContent !== content && otherContent.style.maxHeight) {
Â  Â  Â  Â  Â  Â  Â  Â  otherContent.style.maxHeight = null;
Â  Â  Â  Â  Â  Â  Â  Â  otherContent.previousElementSibling.classList.remove('active');
Â  Â  Â  Â  Â  Â  Â  Â  otherContent.parentElement.classList.remove('active');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  // Abre o cierra el actual
Â  Â  Â  Â  if (content.style.maxHeight){
Â  Â  Â  Â  Â  Â  content.style.maxHeight = null;
Â  Â  Â  Â  Â  Â  title.classList.remove('active');
Â  Â  Â  Â  Â  Â  parentItem.classList.remove('active');
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  // Utiliza scrollHeight para que la altura sea correcta (animaciÃ³n)
Â  Â  Â  Â  Â  Â  content.style.maxHeight = content.scrollHeight + "px";
Â  Â  Â  Â  Â  Â  title.classList.add('active');
Â  Â  Â  Â  Â  Â  parentItem.classList.add('active');
Â  Â  Â  Â  }
Â  Â  });
});

</script>
</body>
</html>
